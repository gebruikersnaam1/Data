<div class="Map">
  <div class="container">
    <div class="MapInner">
      <h1>Map of Rotterdam</h1>

      <form method="POST" action="/">
        <lable>Min Age</lable>
        <select name="minAge">
          {% for x in range(4,19) %}
          <option value="{{x}}">{{x}}</option>
          {% endfor %}
        </select>

        <lable>Max Age</lable>
        <select name="maxAge">
          {% for x in range(18,3,-1) %}
          <option value="{{x}}">{{x}}</option>
          {% endfor %}
        </select>

        <lable>Gender</lable>
        <select name="gender">
          <option value="both" selected>Both</option>
          <option value="Man">Male</option>
          <option value="Vrouw">Female</option>
        </select>

        <input type="submit" value="submit" />
      </form>
      <div class="MapsWrapper">
        {% for d in controller.GetMapItems() %}
        <div class="{{d.className}}">
          <img
            src="{{ d.GetImage()}}"
            alt="{{ d.deelgemeente.areaName}}"
            title="{{ d.deelgemeente.areaName}} - {{d.deelgemeente.applicants}}"
          />
        </div>
        {% endfor %}
      </div>
    </div>
    <table style="width:100%; margin: 50px 0;">
      <tr>
        <th>Area</th>
        <th>Number of children</th>
        <th>Intermediaries</th>
        <th>Ratio</th>
      </tr>
      {% for d in controller.GetMapItems() %}
      <tr>
        <td>{{ d.deelgemeente.areaName}}</td>
        <td>{{d.deelgemeente.applicants}}</td>
        <td>{{d.deelgemeente.intermediary}}</td>
        {% if d.deelgemeente.intermediary > 0 %}
        <td>{{ '%0.2f'| format(d.deelgemeente.applicants / d.deelgemeente.intermediary)}}</td>
        {% else %}
        <td>NaN</td>
        {% endif %}
      </tr>
      {% endfor %}
    </table>
  </div>
</div>
